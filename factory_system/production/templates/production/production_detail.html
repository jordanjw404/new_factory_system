{% extends "core/base.html" %}
{% block content %}

<div class="container mt-4">
  <h2 class="mb-4">Production Detail - {{ stage.order.reference }}</h2>

  <div class="card p-4 shadow-sm">
    <h5><strong>Customer:</strong> {{ stage.order.customer.name }}</h5>
    <h5><strong>Delivery Date:</strong> {{ stage.order.delivery_date|date:"d M Y" }}</h5>

    <hr>

    <h4 class="mb-3">🛠 Production Stages</h4>
    <div class="list-group">

      <div class="list-group-item d-flex justify-content-between align-items-center">
        <div><strong>Sales Status:</strong> <span class="badge bg-{{ badge_colors.sales_status }}">{{ stage.get_sales_status_display }}</span></div>
        <div><strong>Target:</strong> {{ stage.sales_target_date|date:"d M Y" }}</div>
      </div>

      <div class="list-group-item d-flex justify-content-between align-items-center">
        <div><strong>Programming Status:</strong> <span class="badge bg-{{ badge_colors.programming_status }}">{{ stage.get_programming_status_display }}</span></div>
        <div><strong>Target:</strong> {{ stage.programming_target_date|date:"d M Y" }}</div>
      </div>

      <div class="list-group-item d-flex justify-content-between align-items-center">
        <div><strong>Nest Status:</strong> <span class="badge bg-{{ badge_colors.nest_status }}">{{ stage.get_nest_status_display }}</span></div>
        <div><strong>Target:</strong> {{ stage.nest_target_date|date:"d M Y" }}</div>
      </div>

      <div class="list-group-item d-flex justify-content-between align-items-center">
        <div><strong>Edge Status:</strong> <span class="badge bg-{{ badge_colors.edge_status }}">{{ stage.get_edge_status_display }}</span></div>
        <div><strong>Target:</strong> {{ stage.edge_target_date|date:"d M Y" }}</div>
      </div>

      <div class="list-group-item d-flex justify-content-between align-items-center">
        <div><strong>Prep Status:</strong> <span class="badge bg-{{ badge_colors.prep_status }}">{{ stage.get_prep_status_display }}</span></div>
        <div><strong>Target:</strong> {{ stage.prep_target_date|date:"d M Y" }}</div>
      </div>

      <div class="list-group-item d-flex justify-content-between align-items-center">
        <div><strong>Build Status:</strong> <span class="badge bg-{{ badge_colors.build_status }}">{{ stage.get_build_status_display }}</span></div>
        <div><strong>Target:</strong> {{ stage.build_target_date|date:"d M Y" }}</div>
      </div>

      <div class="list-group-item d-flex justify-content-between align-items-center">
        <div><strong>Fittings Status:</strong> <span class="badge bg-{{ badge_colors.fittings_status }}">{{ stage.get_fittings_status_display }}</span></div>
        <div><strong>Target:</strong> {{ stage.fittings_target_date|date:"d M Y" }}</div>
      </div>

      <div class="list-group-item d-flex justify-content-between align-items-center">
        <div><strong>Wrapping Status:</strong> <span class="badge bg-{{ badge_colors.wrapping_status }}">{{ stage.get_wrapping_status_display }}</span></div>
        <div><strong>Target:</strong> {{ stage.wrapping_target_date|date:"d M Y" }}</div>
      </div>

      <div class="list-group-item d-flex justify-content-between align-items-center">
        <div><strong>Quality Check Status:</strong> <span class="badge bg-{{ badge_colors.quality_status }}">{{ stage.get_quality_status_display }}</span></div>
        <div><strong>Target:</strong> {{ stage.quality_target_date|date:"d M Y" }}</div>
      </div>

    </div>

  </div>

  <a href="{% url 'production:production_list' %}" class="btn btn-secondary mt-4">← Back to Production List</a>
</div>

{% endblock %}
